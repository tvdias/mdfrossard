!function(e,t){phonetrack={init:function(){startReplace=new Date,jQuery.extend(jQuery.expr[":"],{"contains-ci":function(e,t,r,n){return(e.textContent||e.innerText||jQuery(e).text()||"").toLowerCase().indexOf((r[3]||"").toLowerCase())>=0}}),"undefined"!=typeof phtsettings&&(void 0!==phtsettings.options&&(phonetrack.options=jQuery.extend(!0,{},phonetrack.options,phtsettings.options)),phonetrack.replacePhones(phonetrack.getPhone(phtsettings)),"undefined"==typeof g_phtPhoneSettings&&(g_phtPhoneSettings=[],g_phtPhoneSettings.push(phtsettings))),phonetrack.options=jQuery.extend(!0,{},phonetrack.options,jQuery("#script-pht-phone").data()),g_phtPhoneSettings.length>0&&phonetrack.replaceByPhoneSettings()},replacePhones:function(e){var t=[];if(""!=e&&null!==e&&"null"!==e)if(location.host.indexOf("autoline")<0)jQuery.each(e,function(e,r){var n=r.from.split(","),i=!1;if(void 0!==r.tooriginal)var o=r.tooriginal.toString().substring(2,r.tooriginal.length);else o=r.to.toString();for(y=0;y<n.length;y++){var a=new RegExp(n[y].trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g");for(tags=["span","label","b","strong","a","h1","h2","h3","h4","h5","p","li","div"],z=0;z<tags.length;z++){if("div"==tags[z]||"li"==tags[z])var p=jQuery("body "+tags[z]+':contains("'+n[y].trim()+'")');else p=jQuery("body "+tags[z]+':contains("'+n[y].trim()+'")');jQuery(p).length>0&&void 0!==r.tooriginal&&(i=!0),jQuery(p).each(function(){("div"==tags[z]||"li"==tags[z])&&jQuery(this).find("*").length>0?(subElementReplace=jQuery(this).find('li:contains("'+n[y].trim()+'"):last'),subElementReplace.length>0?jQuery(subElementReplace).html(jQuery(subElementReplace).html().replace(a,r.to.trim())):subElementReplace=jQuery(this).find('div:contains("'+n[y].trim()+'"):last'),subElementReplace.length>0&&jQuery(subElementReplace).html(jQuery(subElementReplace).html().replace(a,r.to.trim()))):(0==jQuery(this).is("a")||jQuery(this).is("a")&&0==jQuery(this).find("h1,h2,h3").length)&&(jQuery(this).html(jQuery(this).html().replace(a,r.to.trim())),jQuery(this).is("a")&&void 0!==jQuery(this).attr("href")&&jQuery(this).attr("href").indexOf("tel")>=0&&jQuery(this).attr("href","tel:0"+o.replace(/([^0-9])+/g,"")))})}jQuery('a[href$="'+n[y].replace(/([^0-9])+/g,"")+'"]').attr("href","tel:0"+o.replace(/([^0-9])+/g,""));(p=jQuery('body a[data-phone-number="'+n[y].trim()+'"]')).length>0&&(p.attr("data-phone-number",r.to),i=!0)}i&&t.push(r.tooriginal)}),t.length>0&&phonetrack.gclidSend(t);else{t=[];var r=jQuery("li.fields-info a:visible[data-phone-number], div.car-info-block a[data-phone-number]");r.length>0&&r.each(function(){_this=jQuery(this),phoneSearch=jQuery(this).data("phoneNumber"),jQuery.each(e,function(e,r){var n=r.from.split(","),i=!1;for(y=0;y<n.length;y++)n[y].trim().replace(/([^0-9])+/g,"")==phoneSearch.replace(/([^0-9])+/g,"")&&(t.push(r.tooriginal),i=!0,_this.data("phone-number",r.to).attr("data-phone-number",r.to),_this.parents("li.fields-info").addClass("phtreplace"),_this.parents("div.car-info-block").addClass("phtreplace"),_this.is("a")&&_this.prop("href").indexOf("tel")>=0&&_this.attr("href","tel:0"+r.to.replace(/([^0-9])+/g,"")));if(i)return!0})});jQuery("li.fields-info:visible:not(.phtreplace) img, div.car-info-block:not(.phtreplace) img").each(function(){var r=jQuery(this);jQuery.each(e,function(e,n){var i=n.from.split(","),o=!1;for(y=0;y<i.length;y++){var a=new RegExp(i[y].trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"g");elementReplace=r.parent(':contains("'+i[y].trim()+'")'),elementReplace.length>0&&(elementReplace.html(elementReplace.html().replace(a,n.to.trim())),o=!0)}if(o)return t.push(n.tooriginal),!0})}),t.length>0&&phonetrack.gclidSend(t)}return endReplace=new Date,console.log(endReplace.getTime()-startReplace.getTime()),t.length>0},getPhone:function(r){if(startReplace=new Date,phtphone=null,idReferrer="",void 0!==r){parent===e?q=location.search.replace("?","&").split("&"):q=t.referrer.replace("?","&").split("&"),i=0;for(var n="";i<q.length&&""==n;)""==n&&(n="pht"==q[i].split("=")[0]?decodeURIComponent(q[i].split("=")[1]):""),i++;""!=n&&void 0!==r.urlParameter&&void 0!==r.urlParameter[n]&&(phtphone=r.urlParameter[n].phones)}if(null===phtphone){if(referrer=void 0!==t.referrer?t.referrer:"",""!=referrer)if(0===referrer.search("https?://(.*)google.([^/?]*)")){isAdword=!1,parent===e?q=location.search.replace("?","&").split("&"):q=t.referrer.replace("?","&").split("&"),i=0;for(;i<q.length&&0==isAdword;)("utm_source"==q[i].split("=")[0]||"gclid"==q[i].split("=")[0]||referrer.indexOf("adwords")>=0)&&(isAdword=!0),i++;!1===isAdword&&(idReferrer="google")}else 0===referrer.search("https?://(.*)bing.([^/?]*)")?idReferrer="bing":0===referrer.search("https?://(.*)yahoo.([^/?]*)")?idReferrer="yahoo":0===referrer.search("https?://(.*)facebook.([^/?]*)")?idReferrer="facebook":0===referrer.search("https?://(.*)twitter.([^/?]*)")?idReferrer="twitter":0===referrer.search("https?://(.*)instagram.([^/?]*)")?idReferrer="instagram":0===referrer.search("https?://(.*)linkedin.([^/?]*)")&&(idReferrer="linkedin");var o=phonetrack.readCookie("phtphone");if(null!=o&&(c_phtphonereferrer=phonetrack.readCookie("phtphonereferrer"),null==c_phtphonereferrer||""==idReferrer||null!==c_phtphonereferrer&&idReferrer==c_phtphonereferrer.referrer)){var a=JSON.stringify(o),p={},l=!1;return jQuery.each(o,function(e,t){a.indexOf(e)>=0&&(p[e]=t,l=!0)}),l?p:null}if(void 0!==r)if(""!=idReferrer){if(void 0!==r[idReferrer])phtphone=r[idReferrer];else if(void 0!==r.website)return phtphone=r.website,phtphone}else if(void 0!==r.website)return phtphone=r.website,phtphone}return null!==phtphone?(phonetrack.createCookie("phtphone",JSON.stringify(phtphone)),phonetrack.createCookie("phtphonereferrer",JSON.stringify({referrer:idReferrer})),phtphone):null},readCookie:function(e){for(var r=e+"=",n=t.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(r))try{return JSON.parse(o.substring(r.length,o.length))}catch(e){}}return null},createCookie:function(e,r,n){if(null===phonetrack.options.cookiedays||void 0!==n&&0!=n)o="";else{var i=new Date;i.setTime(i.getTime()+24*phonetrack.options.cookiedays*60*60*1e3);var o="; expires="+i.toGMTString()}t.cookie=e+"="+r+o+"; path=/"},deleteCookie:function(e){var r=new Date;r.setTime(r.getTime()-60);var n="; expires="+r.toGMTString();t.cookie=e+"="+n+"; path=/"},options:{cookiedays:null!=t.getElementById("script-pht-phone").getAttribute("data-cookiedays")?t.getElementById("script-pht-phone").getAttribute("data-cookiedays"):7},gclid:function(){parent===e?q=location.search.replace("?","&").split("&"):q=t.referrer.replace("?","&").split("&"),i=0;for(var r="",n="";i<q.length&&""==r;)"gclid"==q[i].split("=")[0]&&(r=decodeURIComponent(q[i].split("=")[1])),""==n&&(n="pht"==q[i].split("=")[0]?decodeURIComponent(q[i].split("=")[1]):""),i++;""!=n&&(""!=r?(phonetrack.createCookie("s_phtgclid",'{"gclid": "'+r+'"}',!0),phonetrack.createCookie("d_phtgclid",'{"gclid": "'+r+'"}')):(phonetrack.deleteCookie("s_phtgclid"),phonetrack.deleteCookie("d_phtgclid")))},gclidSend:function(e){var r="";if(null!=(n=phonetrack.readCookie("s_phtgclid")))""!=n.gclid&&(r=n.gclid,phonetrack.createCookie("s_phtgclid",'{"gclid": ""}',!0));else{var n;null!=(n=phonetrack.readCookie("d_phtgclid"))&&(r=n.gclid,phonetrack.createCookie("s_phtgclid",'{"gclid": ""}',!0))}""!=r&&jQuery.ajax({url:"https://adtrack.phonetrack.com.br/log",type:"POST",data:{gclid:r,pht_numbers:e,url:t.location.href}})},getPhoneByDestination:function(e){phonetrack.getPhone();var t=phonetrack.getPhone(),r=null;if(null!=t){var n=e.replace(/([^0-9])+/g,"");jQuery.each(t,function(e,t){var i=t.from.split(",");for(y=0;y<i.length;y++)n==i[y].replace(/([^0-9])+/g,"")&&(r=void 0!==t.tooriginal?(r=t.tooriginal.toString()).substring(2,r.length):(r=t.to).toString().replace(/([^0-9])+/g,""));if(null!=r)return!0}),null!=r&&phonetrack.gclidSend([r])}return r},onload:function(){if(phonetrack.gclid(),"undefined"==typeof jQuery||jQuery.fn.jquery.split(".")[0]<=1&&parseInt(jQuery.fn.jquery.split(".")[1])<6){var e=t.createElement("script");e.type="text/javascript",e.async="async";var r=t.getElementsByTagName("script")[t.getElementsByTagName("script").length-1];r.parentNode.insertBefore(e,r),e.onload=function(){phonetrack.init()},e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"}else phonetrack.init()},replaceByPhoneSettings:function(){if("undefined"==typeof jQuery||jQuery.fn.jquery.split(".")[0]<=1&&parseInt(jQuery.fn.jquery.split(".")[1])<6){var e=t.createElement("script");e.type="text/javascript",e.async="async";var r=t.getElementsByTagName("script")[t.getElementsByTagName("script").length-1];r.parentNode.insertBefore(e,r),e.onload=function(){phonetrack.replaceByPhoneSettings()},e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"}else"undefined"!=typeof g_phtPhoneSettings&&g_phtPhoneSettings.length>0&&(phones=phonetrack.getPhone(g_phtPhoneSettings[0]),0==phonetrack.replacePhones(phones)&&void 0!==g_phtPhoneSettings[0].website&&phonetrack.replacePhones(g_phtPhoneSettings[0].website),phonetrack.allSettingsPage.push(g_phtPhoneSettings[0]),g_phtPhoneSettings.shift(),phonetrack.replaceByPhoneSettings()),"undefined"!=typeof g_phtPhoneSettings&&0==g_phtPhoneSettings.length&&$("#script-pht-phone").trigger("phonetrack.replace.end")},allSettingsPage:[]},e.onload=function(e){if(phonetrack.onload(),location.href.indexOf("checkscript")>=0){var r=t.createElement("div");r.id="warning-script-append",t.getElementsByTagName("body")[0].append(r);var n='<div style="width: 400px;position: fixed;top: 10px;left: 50%;margin-left: -200px;padding: 10px;background: #FFFFFF;color: #000000;z-index: 9999;border: #dddddd 1px solid">';n+='<div style="font-size: 16px;width: 100%;float: left;text-align: center;color: #5cb85c;"><strong>Script PhoneTrack instalado</strong></div>',n+='<div style="font-size: 14px;width: 100%;float: left;text-align: left">',n+="<strong>Importante:</strong> verifique se a formata&ccedil;&acirc;o dos telefones s&acirc;o compat&iacute;veis com a confirgura&ccedil;&acirc;o do painel.<br>Ex: 0000-0000 ou 0000 0000",n+="</div>",n+="</div>",t.getElementById("warning-script-append").innerHTML=n}},"complete"==t.readyState&&phonetrack.onload()}(window,document);
